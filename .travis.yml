language: ruby
rvm:
  - 2.4.2

before_script:
  - chmod +x ./script/cibuild

# Assume bundler is being used, therefore
# the `install` step will run `bundle install` by default.
script:
  - ./script/cibuild

env:
  global:
    # speeds up installation of html-proofer
    - NOKOGIRI_USE_SYSTEM_LIBRARIES=true

addons:
  apt:
    packages:
      # required to avoid SSL errors with htmlproofer
      - libcurl4-openssl-dev

# route your build to the container-based infrastructure for a faster build
sudo: false

notifications:
  slack:
    rooms:
      secure: CmjESFXnUcXeNSkVu4GcAnzNRVm7CqzJb39hOv12Jt0OIjNyho7au0vqKA57IUi7j/HTR8qyd3EG+XN1WnPIuuRn7C0VCe/YfkQePZUMIq9jk/2xJq9IeDbuIRaHTVXz6r/PN8Ftcz4sc8jUhG+DQQrTmJwWnMp+iCCvDUo+LidkRDYAIOLMMZ+uQerRdtH1nW7o0o+uVPEK8gn926zm7dBWbK6egzpfPjdxa0gmgOrSJJ2zbDT8TesHOI4UD5zEF9XxhIkwai1eIdQlZ2narWO+IW5sw5GP8ckskGUItionwIkY7MjX4m1IcA2XiRv1Llai9lcHQCMuxZB8Jd1NtApBr5neBBLWD2e9Z6byi3V+dILMfh1A0WIkss5pQK4PwlEiM7ulzX9g18SADdqBNKEKg6+fw36hdjNZM7i5mGwnhKoTbu1KLmQgJ/C4zBCAlo3tO7Zxc4+O/zSRQ8lkvElTLriRbLuIjWrQ6WJ8k0OVozthQi3WJDKhhAbgaPkROtjqZ1VDt41/CblLNBM2+/7oVDXc3cQWtdwZuMiCgAd6tGEwB5hwY9xHfCZqkE2OAt00rDrfhCdyxgzIqTVIMIMv3M/8v/scWbG9aVZ9cOD6RvEsyzGnGWBDzhItyoMG11wdPBCYkpWE80gEWOzuM82Uu0xRlgVgPM6WdIUrNeY=
      on_success: change
      on_failure: always